<view class="detail_container">
  <scroll-view scroll-y="true" scroll-x="false" class="scroll-view">
    <swiper class="detail_swiper" indicator-dots="{{indicatorDots}}" interval="{{interval}}" duration="{{duration}}">
      <block wx:for="{{detailData.productImageList}}" wx:key="item.id">
        <swiper-item>
          <image src="https://image-shop.dxracer.com.cn/{{item.listImg}}" mode="scaleToFill"></image>
        </swiper-item>
      </block>
    </swiper>
    <view class="detail_title">{{detailData.product.modelName}}</view>
    <view class="detail_price">￥{{detailData.product.salePrice}}</view>

    <view bindtap="showDialogBtn" class="kind-list-item-hd">
      <view class="kind-list-text">已选
        <text>{{selectName}}</text>
      </view>
      <image class="kind-list-img" src="../../images/nav.png"></image>
    </view>
  <view class="detail_footer">
      <view class="detail_footer_btn" bindtap="showbynow">
        <text>立即购买</text>
      </view>
    </view>
    <!--这里data中article为bindName-->
    <!-- <template is="wxParse" data="{{wxParseData:goodsDetail.nodes}}" />
   -->
  </scroll-view>
</view>

<!--弹窗-->
<view class="modal-mask" bindtap="hideModal" catchtouchmove="preventTouchMove" wx:if="{{showModal}}"></view>
<view class="modal-dialog" wx:if="{{showModal}}">
  <view class="modal-content">
    <view class="select_pro">
         <view wx:if="{{xiajia}}" class="xiajia">
         	 	该商品已下架
         	 </view>
       	 <view wx:if="{{!xiajia&&!firstshow}}" class="xiajia">
       	 	请选择商品 
         	 </view>
            <view wx:if="{{firstshow}}" class='chooseproduct'>
        <view class="image-xq">
          <image src="https://image-shop.dxracer.com.cn/{{choosesp.img}}"></image>
        </view>
        <view class="small-xq">
          <view class="color-dx">￥{{choosesp.price}}</view>
          <view>商品编号:{{choosesp.itemNo}}</view>
          <view>库存:{{choosesp.kucun}}</view>
          <!--促销-->
          <view class="cx" wx:if="{{cxshow}}">
            <text>￥{{choosesp.cuxiaoprice}}</text>
            <text>{{choosesp.activityName}}</text>
          </view>
        </view>
      </view>
    </view>
    <!--选择商品结束 -->
    <view class="attr_box" wx:for="{{detailData.productAttrList}}" wx:for-item="attrValueObj" wx:for-index="attrIndex"  wx:key="attrValueObj.id">
      <!--属性名-->
      <view class="attr_name">{{attrValueObj.attrKey.catalogAttrValue}}</view>

      <!--属性值-->
      <view class="attr_value_box">
        <!--每个属性值-->
        <!--   -->
        <!-- <view class="attr_value {{value.id==attrValueObj.selectedValue?'attr_value_active':''}}" bindtap="selectAttrValue" data-value="{{value}}" data-key="{{attrValueObj.attrKey}}" data-index="{{attrIndex}}" data-selectedvalue="{{attrValueObj.selectedValue}}"
          wx:for="{{attrValueObj.attrValues}}" wx:for-item="value" wx:for-index="valueIndex">{{value.modelAttrValue}}</view> -->
             <view class="attr_value {{valueIndex==attrValueObj.selectedValue?'attr_value_active':''}}" 
              bindtap="selectAttrValue"
              data-value="{{value}}" data-key="{{attrValueObj.attrKey}}" 
              data-column-index="{{valueIndex}}"
              data-index="{{attrIndex}}" 
              data-selectedvalue="{{attrValueObj.selectedValue}}"
          wx:for="{{attrValueObj.attrValues}}" wx:for-item="value" wx:for-index="valueIndex" wx:key="value.id">{{value.modelAttrValue}}</view>
      </view>
    </view>
    <!-- 
      <block wx:for="{{detailData.productAttrList}}" wx:key="item.id">
       <view class="attr_title">{{item.attrKey.catalogAttrValue}}</view>
        <view class="attr_value" wx:for="{{item.attrValues}}" wx:key="item.id" bindtap="selectAttrValue" >
         {{item.modelAttrValue}}
        </view>
          <!-- <image src="https://image-shop.dxracer.com.cn/{{item.listImg}}" mode="scaleToFill"></image> 
        
      </block> -->
    <view class="num_wrap">
      <view>数量:</view>
      <view class="num_right">
            <text bindtap="minusCount" class="min">-</text>
            <text class="num">{{quantity}}</text>
            <text bindtap="addCount" class="add">+</text>
      </view>
      <!-- <input placeholder-class="input-holder" type="number" maxlength="10" bindinput="inputChange" class="input" placeholder="请输入数"></input> -->
    </view>
    <button wx:if="{{kuncunEmpty}}" class="goBtn">暂时无货，到货通知</button>
    <button wx:if="{{!kuncunEmpty&&xiajia}}" class="goCart">加入购物车</button>
    <button wx:if="{{!kuncunEmpty&&!xiajia}}" class="goCart bg-dx" bindtap="atc">加入购物车</button>
  </view>
</view>